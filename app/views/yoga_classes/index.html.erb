    <%= render partial: "partials/header", locals: {
    current_user: @current_user,
    is_angular: true
     } %>  
   <div ng-app="app" ng-controller="yogaClassesCtrl" ng-init="setup()">


    <!-- wrapper -->
    <div id="wrapper">

      <!-- 
        PAGE HEADER 
        
        CLASSES:
          .page-header-xs = 20px margins
          .page-header-md = 50px margins
          .page-header-lg = 80px margins
          .page-header-xlg= 130px margins
          .dark     = dark page header

          .shadow-before-1  = shadow 1 header top
          .shadow-after-1   = shadow 1 header bottom
          .shadow-before-2  = shadow 2 header top
          .shadow-after-2   = shadow 2 header bottom
          .shadow-before-3  = shadow 3 header top
          .shadow-after-3   = shadow 3 header bottom
      -->
      <section class="page-header static">
        <div class="container">
          <br><br>
          
          <h1>UPCOMING YOGA CLASSES
          <% if params[:search] %> NEAR:</h1>
          <h2><%= params[:search] %></h2>
          <% end %>
          <!-- breadcrumbs -->
          <ol class="breadcrumb">
            <li></li>
          </ol><!-- /breadcrumbs -->

        </div>
      </section>
      <!-- /PAGE HEADER -->




      <!-- -->
      <section>
        <div class="container">
          <div class="row">

            <!-- LEFT COLUMNS -->
            <div class="col-md-4 col-sm-4">

              <!-- SEARCH RESULTS -->
              <div ng-repeat="yoga_class in yogaClasses | filter: {studio_name: studioFilter} | filter: {start: dateFilter} | filter: {name: nameFilter}">
                <div class="clearfix search-result">
                <h4 class="margin-bottom-0" data-toggle="modal" data-target=".bs-example-modal-lg"><%= link_to "{{yoga_class.name}}", "/yoga_classes/{{yoga_class.id}}"%></h4>
                <small class="text-muted"><%= link_to "{{yoga_class.studio_name}}", "/studios/{{yoga_class.studio_id}}" %></small>
                <img src="/assets/images/logos/yoga-logo.jpg" alt="" height="60" />
                <p>{{ yoga_class.parsed_date }}</p>
                <p>{{ yoga_class.parsed_time }}</p>
                <p>{{ yoga_class.price}}</p>

                </div>

              </div>



              <!-- /SEARCH RESULTS -->

              <!-- PAGINATION -->
              <div class="text-center margin-top-60">
                <ul class="pagination">
                  <li class="disabled"><a href="#">Previous</a></li>
                  <li class="active"><a href="#">1</a></li>
                  <li><a href="#">2</a></li>
                  <li><a href="#">3</a></li>
                  <li><a href="#">Next</a></li>
                </ul>
              </div>
              <!-- /PAGINATION -->
            </div>
            <!-- /LEFT COLUMNS -->

            <!-- MAP COLUMNS -->
            <div class="col-md-5 col-sm-5 top-center">             
            <div id="map"></div>
            </div>
            <!-- /MAP COLUMNS -->


            <!-- RIGHT COLUMNS -->
            <div class="col-md-3 col-sm-3">
              <h4>FILTERS</h4>

              <form action="page-search-result-1.html" method="get">
                <input type="text" value="" class="form-control" placeholder="Search for class names" ng-model="nameFilter" />

                <input type="text" value="" class="form-control" placeholder="Search for studio names" ng-model="studioFilter" />

                <input type="text" class="form-control datepicker" data-format="yyyy-mm-dd" data-lang="en" data-RTL="false" placeholder="  Find classes by date" name="date" ng-model="dateFilter">
                <!-- value="<%= Time.now.strftime("%A, %b %d, %Y") %>" -->

                <label class="size-12 margin-top-10">Style</label>
                <select class="form-control">
                  <option value="">All</option>
                  <option value="">Ashtanga</option>
                  <option value="">Bikram</option>
                  <option value="">Hatha</option>
                  <option value="">Vinyasa</option>
                  <option value="">Yin</option>
                </select>

                <label class="size-12 margin-top-10">Level</label>
                <select class="form-control">
                  <option value="">All</option>
                  <option value="">Beginner</option>
                  <option value="">Intermediate</option>
                  <option value="">Advanced</option>
                  <option value="">Open</option>
                </select>

                <label class="size-12 margin-top-10">Price</label>
                <select class="form-control" ng-model="maxPrice">
                  <option value="100">All</option>
                  <option value="0">0</option>
                  <option value="3">3</option>
                  <option value="10">10</option>
                  <option value="15">15</option>
                  <option value="20">20</option>
                  <option value="25">25</option>
                  <option value="30">30</option>
                </select>

                <div class="margin-bottom-40">
                  <div class="margin-bottom-10">
                    <label for="amount">Maximum price:</label>
                    <input type="hidden" name="amount" id="amount" class="form-control" ng-model="numLimit"> <!-- hidden input -->
                  </div>           
                  <div class="slider-wrapper success-slider">
                    <div id="slider2" value="{{ maxPrice }}"></div>
                  </div>
                </div>

              </form>
{{ maxPrice }}
{{ numLimit }}
              <hr />


            </div>
            <!-- /RIGHT COLUMNS -->

        </div>
      </section>
      </div>

      <div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">

      <!-- header modal -->
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myLargeModalLabel">Large modal</h4>
      </div>

      <!-- body modal -->
      <div class="modal-body">
        <section class="page-header page-header-xs">
        <div class="container">

          <h1>This is the product title</h1>

          <!-- breadcrumbs -->
          <ol class="breadcrumb">
            <li><a href="#">Home</a></li>
            <li><a href="#">Shop</a></li>
            <li class="active">Single</li>
          </ol><!-- /breadcrumbs -->

        </div>
      </section>
      <!-- /PAGE HEADER -->




      <!-- -->
      <section>
        <div class="container">
          
          <div class="row">
          
            <!-- IMAGE -->
            <div class="col-lg-4 col-sm-4">
              
              <div class="thumbnail relative margin-bottom-3">

                <!-- 
                  IMAGE ZOOM 
                  
                  data-mode="mouseover|grab|click|toggle"
                -->
                <figure id="zoom-primary" class="zoom" data-mode="mouseover">
                  <!-- 
                    zoom buttton
                    
                    positions available:
                      .bottom-right
                      .bottom-left
                      .top-right
                      .top-left
                  -->
                  <a class="lightbox bottom-right" href="/assets/images/demo/shop/products/1000x1500/p5.jpg" data-plugin-options='{"type":"image"}'><i class="glyphicon glyphicon-search"></i></a>

                  <!-- 
                    image 
                    
                    Extra: add .image-bw class to force black and white!
                  -->
                  <img class="img-responsive" src="/assets/images/demo/shop/products/1000x1500/p5.jpg" width="1200" height="1500" alt="This is the product title" />
                </figure>

              </div>

              <!-- Thumbnails (required height:100px) -->
              <div data-for="zoom-primary" class="zoom-more owl-carousel owl-padding-3 featured" data-plugin-options='{"singleItem": false, "autoPlay": false, "navigation": true, "pagination": false}'>
                <a class="thumbnail active" href="/assets/images/demo/shop/products/1000x1500/p5.jpg">
                  <img src="/assets/images/demo/shop/products/100x100/p5.jpg" height="100" alt="" />
                </a>
                <a class="thumbnail" href="/assets/images/demo/shop/products/1000x1500/p6.jpg">
                  <img src="/assets/images/demo/shop/products/100x100/p6.jpg" height="100" alt="" />
                </a>
                <a class="thumbnail" href="/assets/images/demo/shop/products/1000x1500/p7.jpg">
                  <img src="/assets/images/demo/shop/products/100x100/p7.jpg" height="100" alt="" />
                </a>
                <a class="thumbnail" href="/assets/images/demo/shop/products/1000x1500/p8.jpg">
                  <img src="/assets/images/demo/shop/products/100x100/p8.jpg" height="100" alt="" />
                </a>
                <a class="thumbnail" href="/assets/images/demo/shop/products/1000x1500/p9.jpg">
                  <img src="/assets/images/demo/shop/products/100x100/p9.jpg" height="100" alt="" />
                </a>
                <a class="thumbnail" href="/assets/images/demo/shop/products/1000x1500/p10.jpg">
                  <img src="/assets/images/demo/shop/products/100x100/p10.jpg" height="100" alt="" />
                </a>
                <a class="thumbnail" href="/assets/images/demo/shop/products/1000x1500/p11.jpg">
                  <img src="/assets/images/demo/shop/products/100x100/p11.jpg" height="100" alt="" />
                </a>
              </div>
              <!-- /Thumbnails -->

            </div>
            <!-- /IMAGE -->

            <!-- ITEM DESC -->
            <div class="col-lg-5 col-sm-8">

              <!-- buttons -->
              <div class="pull-right">
                <!-- replace data-item-id width the real item ID - used by js/view/demo.shop.js -->
                <a class="btn btn-default add-wishlist" href="#" data-item-id="1" data-toggle="tooltip" title="Add To Wishlist"><i class="fa fa-heart nopadding"></i></a>
                <a class="btn btn-default add-compare" href="#" data-item-id="1" data-toggle="tooltip" title="Add To Compare"><i class="fa fa-bar-chart-o nopadding" data-toggle="tooltip"></i></a>
              </div>
              <!-- /buttons -->

              <!-- price -->
              <div class="shop-item-price">
                <span class="line-through nopadding-left">$98.00</span>
                $78.00
              </div>
              <!-- /price -->

              <hr />

              <div class="clearfix margin-bottom-30">
                <span class="pull-right text-success"><i class="fa fa-check"></i> In Stock</span>
                <!--
                <span class="pull-right text-danger"><i class="glyphicon glyphicon-remove"></i> Out of Stock</span>
                -->

                <strong>SKU:</strong> UY7321987
              </div>


              <!-- short description -->
              <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
              <!-- /short description -->


              <!-- countdown -->
              <div class="text-center">
                <h5>Limited Offer</h5>
                <div class="countdown" data-from="January 31, 2018 15:03:26" data-labels="years,months,weeks,days,hour,min,sec"><!-- Example Date From: December 31, 2018 15:03:26 --></div>
              </div>
              <!-- /countdown -->


              <hr />

              <!-- FORM -->
              <form class="clearfix form-inline nomargin" method="get" action="shop-cart.html">
                <input type="hidden" name="product_id" value="1" />

                <!-- see assets/js/view/demo.shop.js -->
                <input type="hidden" id="color" name="color" value="yellow" />
                <input type="hidden" id="qty" name="qty" value="1" />
                <input type="hidden" id="size" name="size" value="5" />
                <!-- see assets/js/view/demo.shop.js -->

                <div class="btn-group pull-left product-opt-color">
                  <button type="button" class="btn btn-default dropdown-toggle product-color-dd noradius" data-toggle="dropdown">&nbsp;
                    <span class="caret"></span> 
                    <span id="product-selected-color" class="tag shop-color" style="background-color:#F0E68C"></span>
                  </button>

                  <!-- 
                    href = required to be hex color starting with: #
                    data-val = color name or color id from the database 
                  -->
                  <ul id="product-color-dd" class="dropdown-menu clearfix" role="menu">
                    <li class="active"><a class="tag shop-color" data-val="purple" href="#800080" style="background-color:#800080"></a></li>
                    <li><a class="tag shop-color" data-val="red" href="#FF0000" style="background-color:#FF0000"></a></li>
                    <li><a class="tag shop-color" data-val="pink" href="#FF0080" style="background-color:#FF0080"></a></li>
                    <li><a class="tag shop-color" data-val="orange" href="#FF6600" style="background-color:#FF6600"></a></li>
                    <li><a class="tag shop-color" data-val="grey" href="#E0DCC8" style="background-color:#E0DCC8"></a></li>
                    <li><a class="tag shop-color" data-val="yellow" href="#F0E68C" style="background-color:#F0E68C"></a></li>
                    <li><a class="tag shop-color" data-val="light-yellow" href="#FFFFD0" style="background-color:#FFFFD0"></a></li>
                    <li><a class="tag shop-color" style="background-color:#4B0082"></a></li>
                    <li><a class="tag shop-color" data-val="dark-grey" href="#666666" style="background-color:#666666"></a></li>
                    <li><a class="tag shop-color" data-val="green" href="#00FF00" style="background-color:#00FF00"></a></li>
                  </ul>
                </div><!-- /btn-group -->

                <div class="btn-group pull-left product-opt-size">
                  <button type="button" class="btn btn-default dropdown-toggle product-size-dd noradius" data-toggle="dropdown">
                    <span class="caret"></span>
                    Size <small id="product-selected-size">(<span>5</span>)</small>
                  </button>

                  <!-- data-val = size value or size id -->
                  <ul id="product-size-dd" class="dropdown-menu" role="menu">
                    <li class="active"><a data-val="5" href="#">5</a></li>
                    <li><a data-val="5.5" href="#">5.5</a></li>
                    <li><a data-val="6" href="#">6</a></li>
                    <li><a data-val="6.5" href="#">6.5</a></li>
                    <li><a data-val="7" href="#">7</a></li>
                    <li><a data-val="7.5" href="#">7.7</a></li>
                    <li><a data-val="8" href="#">8</a></li>
                    <li><a data-val="8.5" href="#">8.5</a></li>
                    <li><a data-val="9" href="#">9</a></li>
                    <li><a data-val="9.5" href="#">9.5</a></li>
                    <li><a data-val="10" href="#">10</a></li>
                    <li><a data-val="10.5" href="#">10.5</a></li>
                    <li><a data-val="11" href="#">11</a></li>
                    <li><a data-val="11.5" href="#">11.5</a></li>
                    <li><a data-val="12" href="#">12</a></li>
                    <li><a data-val="13" href="#">13</a></li>
                    <li><a data-val="14" href="#">14</a></li>
                  </ul>
                </div><!-- /btn-group -->

                <div class="btn-group pull-left product-opt-qty">
                  <button type="button" class="btn btn-default dropdown-toggle product-qty-dd noradius" data-toggle="dropdown">
                    <span class="caret"></span>
                    Qty <small id="product-selected-qty">(<span>5</span>)</small>
                  </button>

                  <ul id="product-qty-dd" class="dropdown-menu clearfix" role="menu">
                    <li class="active"><a data-val="1" href="#">1</a></li>
                    <li><a data-val="2" href="#">2</a></li>
                    <li><a data-val="3" href="#">3</a></li>
                    <li><a data-val="4" href="#">4</a></li>
                    <li><a data-val="5" href="#">5</a></li>
                    <li><a data-val="6" href="#">6</a></li>
                    <li><a data-val="7" href="#">7</a></li>
                    <li><a data-val="8" href="#">8</a></li>
                    <li><a data-val="9" href="#">9</a></li>
                    <li><a data-val="10" href="#">10</a></li>
                  </ul>
                </div><!-- /btn-group -->

                <button class="btn btn-primary pull-left product-add-cart noradius">ADD TO CART</button>
              
              </form>
              <!-- /FORM -->


              <hr />

              <!-- Share -->
              <div class="pull-right">

                <a href="#" class="social-icon social-icon-sm social-icon-transparent social-facebook pull-left" data-toggle="tooltip" data-placement="top" title="Facebook">
                  <i class="icon-facebook"></i>
                  <i class="icon-facebook"></i>
                </a>

                <a href="#" class="social-icon social-icon-sm social-icon-transparent social-twitter pull-left" data-toggle="tooltip" data-placement="top" title="Twitter">
                  <i class="icon-twitter"></i>
                  <i class="icon-twitter"></i>
                </a>

                <a href="#" class="social-icon social-icon-sm social-icon-transparent social-gplus pull-left" data-toggle="tooltip" data-placement="top" title="Google plus">
                  <i class="icon-gplus"></i>
                  <i class="icon-gplus"></i>
                </a>

                <a href="#" class="social-icon social-icon-sm social-icon-transparent social-linkedin pull-left" data-toggle="tooltip" data-placement="top" title="Linkedin">
                  <i class="icon-linkedin"></i>
                  <i class="icon-linkedin"></i>
                </a>

              </div>
              <!-- /Share -->


              <!-- rating -->
              <div class="rating rating-4 size-13 margin-top-10 width-100"><!-- rating-0 ... rating-5 --></div>
              <!-- /rating -->

            </div>
            <!-- /ITEM DESC -->

      </div>

    </div>
  </div>
</div>
      <!-- / -->
<script src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script type="text/javascript">
  var locations = [
    [
        "Moksha Yoga Center - Lakeview",
        41.942646,
        -87.6531469999999,
        1,
        "Georgia Mason",
        "",
        "Norfolk Botanical Gardens, 6700 Azalea Garden Rd.",
        "coming soon"
    ],
    [
        "Grandpa's House",
        41.8409724,
        -87.6441382999999,
        2,
        "Terry Cox-Joseph",
        "Rowena's",
        "758 W. 22nd Street in front of Rowena's",
        "found"
    ],
    [
        "SOSCVI",
        41.8784244,
        -87.6344896999999,
        3,
        "Steven F. Morris",
        "Judy Boone Realty",
        "Norfolk City Library - Pretlow Branch, 9640 Granby St.",
        "found"
    ],
    [
        "Pecatonica",
        42.3100,
        -89.3586,
        4,
        "Steven F. Morris",
        "Judy Boone Realty",
        "Norfolk City Library - Pretlow Branch, 9640 Granby St.",
        "found"
    ]
]

    var map = new google.maps.Map(document.getElementById('map'), {
      zoom: 11,
      center: new google.maps.LatLng(41.8369, -87.6847),
      mapTypeId: google.maps.MapTypeId.ROADMAP
    });

    var infowindow = new google.maps.InfoWindow();

    var marker, i;

    for (i = 0; i < locations.length; i++) {  
      marker = new google.maps.Marker({
        position: new google.maps.LatLng(locations[i][1], locations[i][2]),
        map: map
      });

      google.maps.event.addListener(marker, 'click', (function(marker, i) {
        return function() {
          infowindow.setContent(locations[i][0], locations[i][6]);
          infowindow.open(map, marker);
        }
      })(marker, i));
    }

    //create empty LatLngBounds object
    var bounds = new google.maps.LatLngBounds();
    var infowindow = new google.maps.InfoWindow();    

    for (i = 0; i < locations.length; i++) {  
      var marker = new google.maps.Marker({
        position: new google.maps.LatLng(locations[i][1], locations[i][2]),
        map: map
      });

    //extend the bounds to include each marker's position
    bounds.extend(marker.position);

    google.maps.event.addListener(marker, 'click', (function(marker, i) {
      return function() {
        infowindow.setContent(locations[i][0]);
        infowindow.open(map, marker);
      }
    })(marker, i));
  }

//now fit the map to the newly inclusive bounds
    map.fitBounds(bounds);


</script>



    

